"use strict";(self.webpackChunkhorizon_ui_chakra=self.webpackChunkhorizon_ui_chakra||[]).push([[833],{8027:function(t,e,r){r.d(e,{Z:function(){return i}});var n=r(9669),o=r.n(n)().create({baseURL:"".concat("http://localhost:5000/api/"),headers:{"Content-Type":"application/json"}});o.interceptors.request.use((function(t){return Promise.resolve(t)}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return Promise.resolve(t)}),(function(t){return Promise.reject(t)}));var i=o},2154:function(t,e,r){var n=r(991),o=r(1162),i=r(5893);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var c=["variant","children"];function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.Z=function(t){var e=t.variant,r=t.children,a=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,c),u=(0,n.mq)("Card",{variant:e});return(0,i.jsx)(o.xu,l(l({__css:u},a),{},{children:r}))}},1818:function(t,e,r){var n=r(1162),o=r(979),i=(r(7294),r(9583)),a=r(5998),c=r(7512),u=r(2154),l=r(5893);e.Z=function(t){var e=(0,a.I0)();return(0,l.jsx)(u.Z,{className:"date-pill",py:"0px",children:(0,l.jsxs)(n.MI,{columns:{base:1,md:1,xl:2},py:"5px",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(i._HU,{className:"left-arrow-date-pill",size:20,onClick:function(){return e((0,c.j6)())}}),(0,l.jsx)(n.xv,{className:"date-input-label-pill",textAlign:"center",children:"FROM:"}),(0,l.jsx)(o.II,{className:"date-input-pill",type:"date",value:t.startDate,onChange:function(e){return t.onStartDateChange(e.target.value)}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.xv,{className:"date-input-label-pill",textAlign:"center",children:"To:"}),(0,l.jsx)(o.II,{className:"date-input-pill",type:"date",value:t.closeDate,onChange:function(e){t.onCloseDateChange(e.target.value)}}),(0,l.jsx)(i.H_v,{className:"right-arrow-date-pill",size:20,onClick:function(){return e((0,c.a1)())}})]})]})})}},4304:function(t,e,r){var n=r(1162),o=r(2154),i=(r(7294),r(5893));e.Z=function(t){return(0,i.jsx)(n.xu,{style:{width:"100%"},padding:"0px",children:(0,i.jsx)(o.Z,{children:(0,i.jsx)(n.xv,{fontSize:"md",textAlign:"center",children:t.text})})})}},7512:function(t,e,r){r.d(e,{FV:function(){return g},UP:function(){return b},X0:function(){return d},a1:function(){return m},fN:function(){return p},j6:function(){return h},oF:function(){return y},yM:function(){return j}});var n=r(9669),o=r.n(n),i=r(6487),a=r(6042);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(5751);var f="http://localhost:4000",p=function(t){return function(e){e({type:"SET_STARTDATE",payload:{startdate:t}}),e(g())}},y=function(t){return function(e){e({type:"SET_CLOSEDATE",payload:{closedate:t}}),e(g())}},b=function(){return function(t){t({type:"LOADING_ON"})}},d=function(){return function(t){t({type:"LOADING_OFF"})}},m=function(){return function(t,e){var r=e().dashboard,n=r.startdate,o=r.closedate;n=new Date(n),o=new Date(o);var a=(0,i.xF)(new Date(n.setDate(n.getDate()+7))),c=(0,i.xF)(new Date(o.setDate(o.getDate()+7)));t(p(a)),t(y(c))}},h=function(){return function(t,e){var r=e().dashboard,n=r.startdate,o=r.closedate;n=new Date(n),o=new Date(o);var a=(0,i.xF)(new Date(n.setDate(n.getDate()-7))),c=(0,i.xF)(new Date(o.setDate(o.getDate()-7)));t(p(a)),t(y(c))}},g=function(){return function(t,e){var r=e().dashboard,n=r.startdate,i=r.closedate,a=e().auth.id;t(b()),o().get(f+"/dashboard?from=".concat(n,"&&to=").concat(i,"&&userid=").concat(a)).then((function(e){var r;t((r=e.data,function(t){t(function(t){return{type:"SET_DATA",payload:{data:t}}}(r))})),t(v())})).then((function(){t(d())}))}},v=function(){return function(t,e){var r=e().dashboard,n=r.startdate,a=r.closedate,c=e().auth.id,u=(0,i.xF)(new Date);t(b()),o().get(f+"/dashboard/daily?from=".concat(n,"&&to=").concat(a,"&&userid=").concat(c,"&&date=").concat(u)).then((function(e){var r;t((r=e.data,function(t){t(function(t){return{type:"SET_DAILY_DATA",payload:{data:t}}}(r))}))})).then((function(){t(d())}))}},j=function(t){return function(e,r){var n=r().auth.id;o().put(f+"/attendence",l(l({},t),{},{userid:n})).then((function(t){t.status>=200&&t.status<300&&a.Am.success("Marked Successfully!"),e(v())}))}}},3833:function(t,e,r){r.r(e),r.d(e,{default:function(){return T}});var n=r(8395),o=r(1162),i=r(1943),a=r(8027),c=r(2154),u=r(1818),l=r(7294),s=r(5998),f=r(6487),p=r(6696),y=r(9521),b=r(5434),d=r(4304),m=r(5893);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===h(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=t.columnsData,r=t.tableData,i=(0,l.useMemo)((function(){return e}),[e]),a=(0,l.useMemo)((function(){return r}),[r]),u=(0,y.useTable)({columns:i,data:a},y.useGlobalFilter,y.useSortBy,y.usePagination),s=u.getTableProps,f=u.getTableBodyProps,h=u.headerGroups,g=u.page,j=u.prepareRow;u.initialState.pageSize=5;var x=(0,n.ff)("secondaryGray.900","white"),O=(0,n.ff)("gray.200","whiteAlpha.100");return(0,m.jsxs)(c.Z,{direction:"column",w:"100%",px:"0px",overflowX:{sm:"scroll",lg:"scroll"},children:[(0,m.jsx)(o.kC,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,m.jsx)(o.xv,{color:x,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:"ATTENDENCE SHEET"})}),(0,m.jsxs)(p.iA,v(v({},s()),{},{variant:"simple",color:"gray.500",size:"sm",children:[(0,m.jsx)(p.hr,{children:h.map((function(t,e){return(0,l.createElement)(p.Tr,v(v({},t.getHeaderGroupProps()),{},{key:e}),t.headers.map((function(t,e){return(0,l.createElement)(p.Th,v(v({},t.getHeaderProps(t.getSortByToggleProps())),{},{pe:"10px",key:e,borderColor:O}),(0,m.jsx)(o.kC,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:t.render("Header")}))})))}))}),g.length?(0,m.jsx)(p.p3,v(v({},f()),{},{children:g.map((function(t,e){return j(t),(0,l.createElement)(p.Tr,v(v({},t.getRowProps()),{},{key:e}),t.cells.map((function(t,e){var r;return r="Title"===t.column.Header?(0,m.jsx)(o.xv,{color:x,fontSize:"sm",fontWeight:"700",children:t.value}):!0===t.value?(0,m.jsx)(o.kC,{align:"center",children:(0,m.jsx)(b.y5A,{size:21})}):(0,m.jsx)(o.kC,{align:"center",children:(0,m.jsx)(b.hrt,{size:21})}),(0,l.createElement)(p.Td,v(v({},t.getCellProps()),{},{key:e,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),r)})))}))})):(0,m.jsx)(d.Z,{text:"Nothing to display!"})]}))]})}function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===O(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T(){var t=(0,s.v9)((function(t){return t.dashboard})),e=t.startdate,r=t.closedate,p=D((0,l.useState)(e),2),y=p[0],b=p[1],d=D((0,l.useState)(r),2),h=d[0],g=d[1],v=D((0,l.useState)({}),2),j=v[0],O=v[1],P=(0,s.v9)((function(t){return t.auth.id})),T=D((0,l.useState)([]),2),E=T[0],C=T[1],A=(0,n.ff)("secondaryGray.900","white");(0,l.useEffect)((function(){a.Z.get("".concat("http://localhost:4000","/attendence/duration?from=").concat(y,"&&to=").concat(h,"&&userid=").concat(P)).then((function(t){C(t.data)}))}),[]);for(var k=[{Header:"Title",accessor:"title"}],I=new Date(h),z=Math.abs(new Date(h)-new Date(y)),_=Math.ceil(z/864e5),N=0;N<=_;N++)k.push({Header:I.getDate()+" "+I.toLocaleString("en-us",{month:"short"}),accessor:(0,f.xF)(I)}),I=new Date(I.setDate(I.getDate()-1));return(0,l.useEffect)((function(){a.Z.get("".concat("http://localhost:4000","/analytics/taskcompletionreport")).then((function(t){O(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({percent:t.data.total?Math.floor(100*t.data.completedInTime/t.data.total):0},t.data))})).catch((function(t){console.log(t)}))}),[]),(0,m.jsxs)(o.xu,{pt:{base:"130px",md:"80px",xl:"80px"},children:[(0,m.jsx)(u.Z,{onStartDateChange:b,onCloseDateChange:g,startDate:e,closeDate:r}),(0,m.jsx)(c.Z,{overflowX:"scroll",children:(0,m.jsx)(x,{columnsData:k,tableData:E})}),(0,m.jsx)(o.MI,{columns:{base:3,md:1,xl:3,lg:2,sm:1},gap:"20px",marginTop:"20px",children:j.hasOwnProperty("percent")&&(0,m.jsx)(o.xu,{children:(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(o.xv,{fontSize:"22px",fontWeight:"700",marginTop:"5px",marginBottom:"20px",lineHeight:"100%",children:"In Time Completion Rate"}),(0,m.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:(0,m.jsx)(i.D8,{value:j.percent,color:j.percent<80?"red":"green.400",size:"120px",width:"100%",children:(0,m.jsx)(i.ip,{color:A,children:(0,m.jsxs)(m.Fragment,{children:[j.percent,"%"]})})})})]})})})]})}}}]);